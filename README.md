# DEPRECATED Please refer to [AWS Blockchain Node Runner for Solana](https://github.com/aws-samples/aws-blockchain-node-runners/tree/main/lib/solana)

# Recommended configurations for running Solana nodes on AWS

| Usage pattern  | Ideal configuration  | Primary option on AWS  | Data Transfer Estimates | Run on AWS |
|---|---|---|---|---|
| 1/ Just validator | 32 vCPU, 256 GB RAM, Accounts volume: 1TB, 5K IOPS, 700 MB/s throughput, Data volume: 3TB, 10K IOPS, 700 MB/s throughput   | r6a.8xlarge, Accounts volume: EBS gp3 1TB, 5K IOPS, 700 MB/s throughput, Data volume: EBS gp3 10K IOPS, 700 MB/s throughput | Proportional to the amount at stake. Between 200TB to 400TB/month  | 1/ [Manually create a new secret in AWS Secrets Manager](https://docs.aws.amazon.com/secretsmanager/latest/userguide/create_secret.html)  to store a key pair for pre-funded account to pay for validator registration transaction. 2/ [Click to deploy in us-east-2 (Ohio)](https://us-east-2.console.aws.amazon.com/cloudformation/home?region=us-east-2#/stacks/create/review&templateURL=https://raw.githubusercontent.com/frbrkoala/solana-configs-for-aws/main/cloudformation/ec2-solana-node-template.yaml&stackName=solana-validator-node&InstanceType=r6a.8xlarge&DataDiscType=gp3&AccountsDiscType=gp3&SolanaVersion=1.14.17&SolanaNodeType=validator) *[setup time: ~ 30 min.]*|
| 2/ Light RPC node (no secondary indexes) | 32 vCPU, 256 GB RAM, Accounts volume: 1TB, 5K IOPS, 700 MB/s throughput, Data volume: 3TB, 12K IOPS, 700 MB/s throughput   | r6a.8xlarge, Accounts volume: EBS gp3 1TB, 5K IOPS, 700 MB/s throughput Data volume: EBS gp3 12K IOPS, 700 MB/s throughput | 150-200TB/month (no staking) | [Click to deploy in us-east-2 (Ohio)](https://us-east-2.console.aws.amazon.com/cloudformation/home?region=us-east-2#/stacks/create/review&templateURL=https://raw.githubusercontent.com/frbrkoala/solana-configs-for-aws/main/cloudformation/ec2-solana-node-template.yaml&stackName=solana-lightrpc-node&InstanceType=r6a.8xlarge&DataDiscType=gp3&AccountsDiscType=gp3&SolanaVersion=1.14.17&SolanaNodeType=lightrpc) *[setup time: ~ 30 min.]* |
| 3/ Full RPC node (with all secondary indexes) | 64 vCPU, 1 TB RAM, Accounts volume: 1TB, 7K IOPS, 700 MB/s throughput, Data volume: 3TB, 16K IOPS, 700 MB/s throughput    | x2idn.16xlarge, Accounts: instance storage (ethemeral NVMe voumes) 1.9 TB, Data volume: 3TB, 12K IOPS, 700 MB/s throughput | 150-200TB/month (no staking) | [Click to deploy in us-east-2 (Ohio)](https://us-east-2.console.aws.amazon.com/cloudformation/home?region=us-east-2#/stacks/create/review&templateURL=https://raw.githubusercontent.com/frbrkoala/solana-configs-for-aws/main/cloudformation/ec2-solana-node-template.yaml&stackName=solana-heavyrpc-node&InstanceType=x2idn.16xlarge&DataDiscType=gp3&AccountsDiscType=instancestore&SolanaVersion=1.14.17&SolanaNodeType=heavyrpc) *[setup time: ~ 30 min.]* |

## Claning up

1. The web console of your AWS account, navigate to CloudFormation home page. Find the Cloudformation stack created, select it and click "Delete". This will delete all created resources, except secrets in the AWS Secrets Manager.
2. Go to the AWS Secrets Manager and look at description to find a secret for the name of CloudFormation stack with deleted Node Identity. Optinally you can also remove other secrets with Solana Vote Account, Solana Withrdawal Account and Registration Tranasaction Funding account.
